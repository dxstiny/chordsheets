import{d as k,x as N,r as C,B as x,c as m,bR as B,b as n,e as s,F as d,f as _,i as h,t as p,g as F,j as I,bS as j,o as c,v as w,p as E,q as K,_ as O}from"./main-CFTRWoaP.js";import{S as A}from"./scales-CBMWNTq8.js";/* empty css                                                                 */import"./index-DyCwOq9a.js";/* empty css                                                                   */import{s as D,a as S,i as L,g as M}from"./inputListener-D2lKYh2m.js";import{K as R}from"./Keyboard-1yrphnKZ.js";const i=u=>(E("data-v-20360471"),u=u(),K(),u),V={class:"chord-finder"},P=i(()=>s("h2",null,"Scale Finder",-1)),$=i(()=>s("p",null,"Connected Midi Devices:",-1)),q=i(()=>s("br",null,null,-1)),z={class:"row"},H=i(()=>s("span",null,"Playing:",-1)),W=i(()=>s("br",null,null,-1)),Y=i(()=>s("br",null,null,-1)),G=i(()=>s("hr",null,null,-1)),J=i(()=>s("br",null,null,-1)),Q={class:"scales"},T=["open"],U={class:"scales"},X=k({__name:"ScaleFinder",setup(u){N(()=>{D()});const l=C([]);x(S.value,t=>{l.value.push(...Object.keys(t).map(o=>parseInt(o)))});const v=m(()=>{const t={};for(let o=0;o<12;o++)for(let e of B){const a=A[e],r=`${j[o]} ${e}`;t[r]=a.keys.map(g=>(g+o)%12)}return t}),f=m(()=>{const t=[...new Set(l.value.map(e=>e%12))],o=[];for(let e of Object.keys(v.value)){const a=v.value[e];t.some(r=>!a.includes(r))||o.push({name:e,notes:a})}return o}),b=m(()=>{const t=f.value.map(e=>e.name.split(" ")[0]),o={};for(let e of t)o[e]=f.value.filter(a=>a.name.startsWith(e)).map(a=>a.name.split(" ")[1]);return o}),y=t=>{l.value.includes(t)?l.value.splice(l.value.indexOf(t),1):l.value.push(t)};return(t,o)=>(c(),n("div",V,[P,$,s("ul",null,[(c(!0),n(d,null,_(h(L),e=>(c(),n("li",{key:e.id,class:w(["device",{active:Object.values(h(S)).some(a=>a.device===e.name)}])},p(e.name),3))),128))]),q,s("div",z,[H,s("h3",null,p(h(M)(l.value)),1)]),W,F(R,{min:48,max:72,highlight:l.value,clickable:"",onKeypress:y},null,8,["highlight"]),l.value.length?(c(),n(d,{key:0},[Y,G,J,s("div",Q,[(c(!0),n(d,null,_(b.value,(e,a)=>(c(),n("details",{key:a,class:"root",open:e.length<3},[s("summary",null,p(a),1),s("div",U,[(c(!0),n(d,null,_(e,r=>(c(),n("span",{key:r},p(r),1))),128))])],8,T))),128))])],64)):I("",!0)]))}}),ne=O(X,[["__scopeId","data-v-20360471"]]);export{ne as default};
