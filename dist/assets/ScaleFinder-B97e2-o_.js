import{d as k,y as C,r as N,C as x,c as m,bS as F,e as n,f as s,F as d,g as _,j as h,t as p,h as I,k as j,bT as w,o as c,x as B,q as E,s as K,_ as O}from"./main-CJzOYqUz.js";import{S as A}from"./scales-qgsBjnmY.js";/* empty css                                                                 */import"./index-DyCwOq9a.js";/* empty css                                                                   */import{s as D,a as S,i as L,g as M}from"./inputListener-DPgo-DNl.js";import{K as V}from"./Keyboard-DbI3gmiw.js";const i=u=>(E("data-v-20360471"),u=u(),K(),u),P={class:"chord-finder"},R=i(()=>s("h2",null,"Scale Finder",-1)),$=i(()=>s("p",null,"Connected Midi Devices:",-1)),q=i(()=>s("br",null,null,-1)),z={class:"row"},H=i(()=>s("span",null,"Playing:",-1)),T=i(()=>s("br",null,null,-1)),W=i(()=>s("br",null,null,-1)),Y=i(()=>s("hr",null,null,-1)),G=i(()=>s("br",null,null,-1)),J={class:"scales"},Q=["open"],U={class:"scales"},X=k({__name:"ScaleFinder",setup(u){C(()=>{D()});const l=N([]);x(S.value,t=>{l.value.push(...Object.keys(t).map(o=>parseInt(o)))});const v=m(()=>{const t={};for(let o=0;o<12;o++)for(let e of F){const a=A[e],r=`${w[o]} ${e}`;t[r]=a.keys.map(g=>(g+o)%12)}return t}),f=m(()=>{const t=[...new Set(l.value.map(e=>e%12))],o=[];for(let e of Object.keys(v.value)){const a=v.value[e];t.some(r=>!a.includes(r))||o.push({name:e,notes:a})}return o}),b=m(()=>{const t=f.value.map(e=>e.name.split(" ")[0]),o={};for(let e of t)o[e]=f.value.filter(a=>a.name.startsWith(e)).map(a=>a.name.split(" ")[1]);return o}),y=t=>{l.value.includes(t)?l.value.splice(l.value.indexOf(t),1):l.value.push(t)};return(t,o)=>(c(),n("div",P,[R,$,s("ul",null,[(c(!0),n(d,null,_(h(L),e=>(c(),n("li",{key:e.id,class:B(["device",{active:Object.values(h(S)).some(a=>a.device===e.name)}])},p(e.name),3))),128))]),q,s("div",z,[H,s("h3",null,p(h(M)(l.value)),1)]),T,I(V,{min:48,max:72,highlight:l.value,clickable:"",onKeypress:y},null,8,["highlight"]),l.value.length?(c(),n(d,{key:0},[W,Y,G,s("div",J,[(c(!0),n(d,null,_(b.value,(e,a)=>(c(),n("details",{key:a,class:"root",open:e.length<3},[s("summary",null,p(a),1),s("div",U,[(c(!0),n(d,null,_(e,r=>(c(),n("span",{key:r},p(r),1))),128))])],8,Q))),128))])],64)):j("",!0)]))}}),ne=O(X,[["__scopeId","data-v-20360471"]]);export{ne as default};
