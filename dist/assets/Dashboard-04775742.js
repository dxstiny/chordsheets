import{u as B,I as r,_ as P,E as A,a as D}from"./AllPages.vue_vue_type_script_setup_true_lang-d64c088d.js";import{d as E,r as N,c as p,a as o,b as l,F as u,e as m,u as w,f as F,o as c,g as b,w as R,t as v,p as $,h as j}from"./main-faaf32e1.js";const _=i=>($("data-v-320415e6"),i=i(),j(),i),O={class:"dashboard"},J={class:"wrap"},T=_(()=>o("h1",null,"Chordsheets",-1)),U=_(()=>o("hr",null,null,-1)),V={class:"flex"},q=_(()=>o("hr",null,null,-1)),z={class:"void"},G={class:"parent"},H=E({__name:"Dashboard",setup(i){const n=B(),f=N(),k=async()=>{await n.prepareRender();const e=JSON.stringify(n.songs,null,4),t=document.createElement("a"),a=new Blob([e],{type:"text/plain"});t.href=URL.createObjectURL(a),t.download="chordsheets.json",t.click()},x=()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=t=>{var d;const a=(d=t.target.files)==null?void 0:d[0];if(!a)return;const s=new FileReader;s.onload=C=>{var g;const I=(g=C.target)==null?void 0:g.result,L=JSON.parse(I);n.songs=L},s.readAsText(a)},e.click()},h=async()=>{let e=new A({orientation:"portrait",unit:"px",format:"a4"});for(const t of f.value??[])await t.renderTo(e),t.song!==n.songs[n.songs.length-1]&&e.addPage();return e},y=async()=>{const e=await h();e.autoPrint(),e.output("dataurlnewwindow")},S=async()=>{(await h()).save("chordsheets.pdf")};return(e,t)=>{const a=F("router-link");return c(),p(u,null,[o("div",O,[o("div",J,[T,U,o("div",V,[l(r,{icon:"add",label:"New Song",onClick:t[0]||(t[0]=s=>e.$router.push("/editor"))}),l(r,{icon:"file_download",label:"Save Library",onClick:k}),l(r,{icon:"file_upload",label:"Import Library",onClick:x}),l(r,{label:"Export all as PDF",icon:"picture_as_pdf",onClick:S}),l(r,{label:"Print All",icon:"print",onClick:y})]),q,o("ul",null,[(c(!0),p(u,null,m(w(n).songs,(s,d)=>(c(),b(a,{to:`/editor?s=${d}`},{default:R(()=>[o("li",null,v(s.artist)+" - "+v(s.title),1)]),_:2},1032,["to"]))),256))])])]),o("div",z,[o("div",G,[(c(!0),p(u,null,m(w(n).songs,s=>(c(),b(P,{ref_for:!0,ref_key:"allPages",ref:f,song:s},null,8,["song"]))),256))])])],64)}}});const Q=D(H,[["__scopeId","data-v-320415e6"]]);export{Q as default};
