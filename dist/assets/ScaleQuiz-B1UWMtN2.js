import{d as E,bO as I,bP as A,r as u,c as g,s as K,D as z,b as B,e as s,t as v,k as D,g as p,o as L,p as O,q as P,bN as Q,_ as V}from"./main-DFzgqNvZ.js";import{S as j}from"./scales-SSvWAo5Q.js";import{S as q,n as R}from"./index-DyCwOq9a.js";import{I as S}from"./IconButton-T42IZKqA.js";import{K as T}from"./Keyboard-C_8KoyOu.js";import{s as Y,a as F}from"./inputListener-qLSEojYr.js";/* empty css                                                                   */const b=c=>(O("data-v-575d3354"),c=c(),P(),c),H={class:"scale-quiz"},$=["value","max"],G={class:"header"},J=b(()=>s("h2",null,"Scale Quiz",-1)),U={class:"info"},W={class:"accent"},X={class:"score"},Z=b(()=>s("span",{class:"material-symbols-rounded"},"star",-1)),ee={class:"body"},te={class:"scale"},se=E({__name:"ScaleQuiz",setup(c){const y=new q().toDestination(),_=e=>e[Math.floor(Math.random()*e.length)],r=[...I,...A],i=u("C"),d=u("Major"),a=u([]),h=u(0),m=()=>{i.value=_(r),d.value=_(Q),a.value=[],h.value=0};m();const n=g(()=>{const e=r.indexOf(i.value);return j[d.value].keys.map(t=>(t+e)%12)}),k=()=>{const e=n.value[0],t=l=>l>=e?"4":"5",o=n.value.map(l=>r[l]+t(l));o.push(r[e]+"5");const M=R();o.forEach((l,C)=>{y.triggerAttackRelease(l,"8n",M+C/2)})},f=e=>{a.value.includes(e)||a.value.length!==n.value.length&&(h.value++,n.value.includes(e)&&a.value.push(e))},N=(e,t,o)=>Math.max(Math.min(e,o),t),x=(e,t)=>+(Math.round(e+"e"+t)+"e-"+t),w=g(()=>{const e=a.value.length/n.value.length*100,t=(h.value-a.value.length)*5,o=N(e-t,0,100);return x(o,1)});return K(()=>{Y()}),z(F.value,e=>{for(let t of Object.keys(e)){const o=parseInt(t)%12;f(o)}}),(e,t)=>(L(),B("div",H,[s("progress",{value:a.value.length,max:n.value.length},null,8,$),s("div",G,[J,s("div",U,[s("h3",null,[s("span",W,v(i.value),1),D(" "+v(d.value),1)]),p(S,{icon:"play_arrow",label:"Play Scale",onClick:k})]),s("div",X,[Z,s("span",null,v(w.value)+"%",1)])]),s("div",ee,[s("div",te,[p(T,{highlight:a.value,onKeypress:f,clickable:"",min:0,max:11},null,8,["highlight"])]),p(S,{icon:"arrow_forward",label:"Continue",onClick:m,disabled:a.value.length<n.value.length},null,8,["disabled"])])]))}}),ie=V(se,[["__scopeId","data-v-575d3354"]]);export{ie as default};
