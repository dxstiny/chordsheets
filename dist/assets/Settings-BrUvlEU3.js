import{I as m}from"./IconButton-B_q_m7lt.js";import{d as f,a as V,r as h,o as _,e as g,f as o,t as v,l as x,j as w,h as c,q as C,s as O,_ as y,k as B,x as j,u as E,F as D}from"./main-CJzOYqUz.js";/* empty css                                                                   */const R=e=>(C("data-v-c192c0a9"),e=e(),O(),e),q=R(()=>o("br",null,null,-1)),F={class:"actions"},T=f({__name:"Import",setup(e,{expose:d}){const n=V(),s=h([]),l=h(),u=()=>{s.value=[];const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=i=>{var S;const p=(S=i.target.files)==null?void 0:S[0];if(!p)return;const b=new FileReader;b.onload=$=>{var I;const L=(I=$.target)==null?void 0:I.result,k=JSON.parse(L);if(!n.songs.length){n.songs=k;return}s.value=k,l.value.showModal()},b.readAsText(p)},t.click()},a=()=>{for(const t of s.value){const i=n.songs.find(p=>p.title===t.title&&p.artist===t.artist);i?Object.assign(i,t):n.songs.push(t)}s.value=[],l.value.close()},r=()=>{n.songs=s.value,s.value=[],l.value.close()};return d({show:u}),(t,i)=>(_(),g("dialog",{ref_key:"addOrOverwrite",ref:l},[o("h1",null,v(s.value.length)+" songs to import",1),o("p",null,[x(" You already have "+v(w(n).songs.length)+" songs in your library. ",1),q,x(" Do you want to merge the libraries songs or overwrite the existing one? ")]),o("div",F,[c(m,{label:"Cancel",icon:"close",style:"red",onClick:i[0]||(i[0]=p=>l.value.close())}),c(m,{label:"Merge",icon:"merge",onClick:a}),c(m,{label:"Overwrite",icon:"sync_problem",style:"yellow",onClick:r})])],512))}}),U=y(T,[["__scopeId","data-v-c192c0a9"]]),J={key:0},M=f({__name:"Switch",props:{modelValue:{required:!0,type:Boolean},label:{required:!1,type:String}},emits:["update:modelValue"],setup(e,{emit:d}){const n=d,s=l=>{n("update:modelValue",l)};return(l,u)=>(_(),g("div",{class:"switch",onClick:u[0]||(u[0]=a=>s(!e.modelValue))},[e.label?(_(),g("h2",J,v(e.label),1)):B("",!0),o("span",{class:j(["slider",{checked:e.modelValue}])},null,2)]))}}),z=y(M,[["__scopeId","data-v-31ead63f"]]),N=e=>(C("data-v-9d914d63"),e=e(),O(),e),A={class:"grid"},Y={class:"container options"},G=N(()=>o("h2",null,"Library",-1)),H={class:"container w-2 learn"},K={class:"content"},P={class:"space-between"},Q=N(()=>o("div",null,[o("h2",null,"New editor"),o("p",null," The new editor lets you edit your songs directly in-place. No more switching between editor and preview. It also introduces new shortcuts to improve your workflow. ")],-1)),W=f({__name:"Settings",setup(e){const d=E(),n=V(),s=h(),l=async()=>{await n.prepareRender();const a=JSON.stringify(n.songs,null,4),r=document.createElement("a"),t=new Blob([a],{type:"text/plain"});r.href=URL.createObjectURL(t),r.download="chordsheets.json",r.click()},u=()=>{var a;(a=s.value)==null||a.show()};return(a,r)=>(_(),g(D,null,[c(U,{ref_key:"importDialog",ref:s},null,512),o("div",A,[o("div",Y,[G,c(m,{icon:"file_download",label:"Save Library",onClick:l,style:"yellow"}),c(m,{icon:"file_upload",label:"Import Library",onClick:u,style:"yellow"})]),o("aside",H,[o("div",K,[o("div",P,[Q,c(z,{class:"try-new-editor",modelValue:w(d).newEditor,"onUpdate:modelValue":r[0]||(r[0]=t=>w(d).newEditor=t)},null,8,["modelValue"])])])])])],64))}}),te=y(W,[["__scopeId","data-v-9d914d63"]]);export{te as default};
