import{d as k,z as N,r as C,y as x,x as m,bT as F,c as n,a as s,F as d,i as _,f as h,t as p,b as I,g as j,bU as w,o as c,s as B,p as E,j as K,_ as O}from"./main-Ff3BIIMF.js";import{S as A}from"./scales-D-KhEs6w.js";/* empty css                                                                 */import"./index-DyCwOq9a.js";/* empty css                                                                   */import{s as D,a as S,i as L,g as M}from"./inputListener-CitnmNnX.js";import{K as V}from"./Keyboard-Cm41bsr0.js";const i=u=>(E("data-v-20360471"),u=u(),K(),u),z={class:"chord-finder"},P=i(()=>s("h2",null,"Scale Finder",-1)),R=i(()=>s("p",null,"Connected Midi Devices:",-1)),$=i(()=>s("br",null,null,-1)),H={class:"row"},T=i(()=>s("span",null,"Playing:",-1)),U=i(()=>s("br",null,null,-1)),W=i(()=>s("br",null,null,-1)),Y=i(()=>s("hr",null,null,-1)),q=i(()=>s("br",null,null,-1)),G={class:"scales"},J=["open"],Q={class:"scales"},X=k({__name:"ScaleFinder",setup(u){N(()=>{D()});const l=C([]);x(S.value,t=>{l.value.push(...Object.keys(t).map(o=>parseInt(o)))});const v=m(()=>{const t={};for(let o=0;o<12;o++)for(let e of F){const a=A[e],r=`${w[o]} ${e}`;t[r]=a.keys.map(g=>(g+o)%12)}return t}),f=m(()=>{const t=[...new Set(l.value.map(e=>e%12))],o=[];for(let e of Object.keys(v.value)){const a=v.value[e];t.some(r=>!a.includes(r))||o.push({name:e,notes:a})}return o}),b=m(()=>{const t=f.value.map(e=>e.name.split(" ")[0]),o={};for(let e of t)o[e]=f.value.filter(a=>a.name.startsWith(e)).map(a=>a.name.split(" ")[1]);return o}),y=t=>{l.value.includes(t)?l.value.splice(l.value.indexOf(t),1):l.value.push(t)};return(t,o)=>(c(),n("div",z,[P,R,s("ul",null,[(c(!0),n(d,null,_(h(L),e=>(c(),n("li",{key:e.id,class:B(["device",{active:Object.values(h(S)).some(a=>a.device===e.name)}])},p(e.name),3))),128))]),$,s("div",H,[T,s("h3",null,p(h(M)(l.value)),1)]),U,I(V,{min:48,max:72,highlight:l.value,clickable:"",onKeypress:y},null,8,["highlight"]),l.value.length?(c(),n(d,{key:0},[W,Y,q,s("div",G,[(c(!0),n(d,null,_(b.value,(e,a)=>(c(),n("details",{key:a,class:"root",open:e.length<3},[s("summary",null,p(a),1),s("div",Q,[(c(!0),n(d,null,_(e,r=>(c(),n("span",{key:r},p(r),1))),128))])],8,J))),128))])],64)):j("",!0)]))}}),ne=O(X,[["__scopeId","data-v-20360471"]]);export{ne as default};
