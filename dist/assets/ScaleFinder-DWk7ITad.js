import{d as k,x as N,r as h,v as C,s as p,c as a,a as l,F as u,i as c,f as d,t as m,b as _,g as x,c1 as F,c2 as B,o as r,p as E,_ as K}from"./main-DSnlyUdv.js";import{S as O}from"./scales-B3UCePqc.js";/* empty css                                                                 */import"./index-DyCwOq9a.js";/* empty css                                                                   */import{s as j,a as b,i as w,g as A}from"./inputListener-DtuvMXzi.js";import{K as D}from"./Keyboard-Dt6rlgWP.js";const L={class:"chord-finder"},M={class:"row"},V={class:"scales"},I=["open"],P={class:"scales"},R=k({__name:"ScaleFinder",setup($){N(()=>{j()});const o=h([]);C(b.value,t=>{o.value.push(...Object.keys(t).map(e=>parseInt(e)))});const v=p(()=>{const t={};for(let e=0;e<12;e++)for(let s of F){const n=O[s],i=`${B[e]} ${s}`;t[i]=n.keys.map(g=>(g+e)%12)}return t}),f=p(()=>{const t=[...new Set(o.value.map(s=>s%12))],e=[];for(let s of Object.keys(v.value)){const n=v.value[s];t.some(i=>!n.includes(i))||e.push({name:s,notes:n})}return e}),S=p(()=>{const t=f.value.map(s=>s.name.split(" ")[0]),e={};for(let s of t)e[s]=f.value.filter(n=>n.name.startsWith(s)).map(n=>n.name.split(" ")[1]);return e}),y=t=>{o.value.includes(t)?o.value.splice(o.value.indexOf(t),1):o.value.push(t)};return(t,e)=>(r(),a("div",L,[e[4]||(e[4]=l("h2",null,"Scale Finder",-1)),e[5]||(e[5]=l("p",null,"Connected Midi Devices:",-1)),l("ul",null,[(r(!0),a(u,null,c(d(w),s=>(r(),a("li",{key:s.id,class:E(["device",{active:Object.values(d(b)).some(n=>n.device===s.name)}])},m(s.name),3))),128))]),e[6]||(e[6]=l("br",null,null,-1)),l("div",M,[e[0]||(e[0]=l("span",null,"Playing:",-1)),l("h3",null,m(d(A)(o.value)),1)]),e[7]||(e[7]=l("br",null,null,-1)),_(D,{min:48,max:72,highlight:o.value,clickable:"",onKeypress:y},null,8,["highlight"]),o.value.length?(r(),a(u,{key:0},[e[1]||(e[1]=l("br",null,null,-1)),e[2]||(e[2]=l("hr",null,null,-1)),e[3]||(e[3]=l("br",null,null,-1)),l("div",V,[(r(!0),a(u,null,c(S.value,(s,n)=>(r(),a("details",{key:n,class:"root",open:s.length<3},[l("summary",null,m(n),1),l("div",P,[(r(!0),a(u,null,c(s,i=>(r(),a("span",{key:i},m(i),1))),128))])],8,I))),128))])],64)):x("",!0)]))}}),Q=K(R,[["__scopeId","data-v-20360471"]]);export{Q as default};
