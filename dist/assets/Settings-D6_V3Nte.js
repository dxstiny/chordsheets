import{I as m}from"./IconButton-BdeipojU.js";import{d as _,u as I,r as w,o as g,c as v,a as t,t as f,h as V,f as y,b as i,_ as b,g as N,p as L,j as B,F as $}from"./main-DSnlyUdv.js";/* empty css                                                                   */const j={class:"actions"},E=_({__name:"Import",setup(c,{expose:d}){const n=I(),o=w([]),r=w(),u=()=>{o.value=[];const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=l=>{var k;const p=(k=l.target.files)==null?void 0:k[0];if(!p)return;const h=new FileReader;h.onload=C=>{var S;const O=(S=C.target)==null?void 0:S.result,x=JSON.parse(O);if(!n.songs.length){n.songs=x;return}o.value=x,r.value.showModal()},h.readAsText(p)},e.click()},a=()=>{for(const e of o.value){const l=n.songs.find(p=>p.title===e.title&&p.artist===e.artist);l?Object.assign(l,e):n.songs.push(e)}o.value=[],r.value.close()},s=()=>{n.songs=o.value,o.value=[],r.value.close()};return d({show:u}),(e,l)=>(g(),v("dialog",{ref_key:"addOrOverwrite",ref:r},[t("h1",null,f(o.value.length)+" songs to import",1),t("p",null,[V(" You already have "+f(y(n).songs.length)+" songs in your library. ",1),l[1]||(l[1]=t("br",null,null,-1)),l[2]||(l[2]=V(" Do you want to merge the libraries songs or overwrite the existing one? "))]),t("div",j,[i(m,{label:"Cancel",icon:"close",style:"red",onClick:l[0]||(l[0]=p=>r.value.close())}),i(m,{label:"Merge",icon:"merge",onClick:a}),i(m,{label:"Overwrite",icon:"sync_problem",style:"yellow",onClick:s})])],512))}}),D=b(E,[["__scopeId","data-v-c192c0a9"]]),R={key:0},F=_({__name:"Switch",props:{modelValue:{required:!0,type:Boolean},label:{required:!1,type:String}},emits:["update:modelValue"],setup(c,{emit:d}){const n=d,o=r=>{n("update:modelValue",r)};return(r,u)=>(g(),v("div",{class:"switch",onClick:u[0]||(u[0]=a=>o(!c.modelValue))},[c.label?(g(),v("h2",R,f(c.label),1)):N("",!0),t("span",{class:L(["slider",{checked:c.modelValue}])},null,2)]))}}),T=b(F,[["__scopeId","data-v-31ead63f"]]),U={class:"grid"},q={class:"container options"},J={class:"container w-2 learn"},M={class:"content"},z={class:"space-between"},A=_({__name:"Settings",setup(c){const d=B(),n=I(),o=w(),r=async()=>{await n.prepareRender();const a=JSON.stringify(n.songs,null,4),s=document.createElement("a"),e=new Blob([a],{type:"text/plain"});s.href=URL.createObjectURL(e),s.download="chordsheets.json",s.click()},u=()=>{var a;(a=o.value)==null||a.show()};return(a,s)=>(g(),v($,null,[i(D,{ref_key:"importDialog",ref:o},null,512),t("div",U,[t("div",q,[s[1]||(s[1]=t("h2",null,"Library",-1)),i(m,{icon:"file_download",label:"Save Library",onClick:r,style:"yellow"}),i(m,{icon:"file_upload",label:"Import Library",onClick:u,style:"yellow"})]),t("aside",J,[t("div",M,[t("div",z,[s[2]||(s[2]=t("div",null,[t("h2",null,"New editor"),t("p",null," The new editor lets you edit your songs directly in-place. No more switching between editor and preview. It also introduces new shortcuts to improve your workflow. ")],-1)),i(T,{class:"try-new-editor",modelValue:y(d).newEditor,"onUpdate:modelValue":s[0]||(s[0]=e=>y(d).newEditor=e)},null,8,["modelValue"])])])])])],64))}}),K=b(A,[["__scopeId","data-v-9d914d63"]]);export{K as default};
