import{A as d,r as u,c,B as S}from"./main-CFTRWoaP.js";const a="chordsheets.setlists",g=d("setlists",()=>{const t=u(JSON.parse(localStorage.getItem(a)||"[]"));window.addEventListener("storage",()=>{t.value=JSON.parse(localStorage.getItem(a)||"[]")});const o=c(()=>JSON.stringify(t.value));S(t,()=>{localStorage.setItem(a,o.value)},{deep:!0});function n(e){t.value.push(e)}function i(){const e={name:"Setlist "+(t.value.length+1),sections:[{name:"Section 1",songs:[],id:Math.round(Math.random()*1e6)}],id:Math.round(Math.random()*1e6)};return t.value.push(e),e}function r(e){const s=t.value.findIndex(l=>l.id===e.id);t.value.splice(s,1)}return{setlists:t,setlistsJSON:o,addSetlist:n,addEmptySetlist:i,removeSetlist:r,duplicateSetlist:e=>{const s=JSON.parse(JSON.stringify(e));return s.id=Math.round(Math.random()*1e6),s.name="Copy of "+s.name,t.value.push(s),s},setlist:e=>t.value.find(s=>s.id===e)}});export{g as u};
