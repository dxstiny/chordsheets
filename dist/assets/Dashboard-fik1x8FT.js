import{d as D,u as P,r as p,c as m,a as e,b as f,Q as b,e as v,f as _,g as E,t as h,h as A,F as w,i as B,o as d,_ as I}from"./main-DZED5YHt.js";import{E as N}from"./dom-to-image-CGH7_zTS.js";import{E as y}from"./Editor-tBKLEV3F.js";import{I as V}from"./Import-IBa3qY02.js";import"./vuedraggable.umd-WXmkIpja.js";/* empty css                                                               */import"./IconButton-CfLmXCMC.js";/* empty css                                                                   */const S={class:"content"},T={class:"search"},C={class:"content"},F={class:"preview-container"},M={class:"preview scale-sm"},Q={class:"row"},$=["value","max"],L={class:"void"},R={class:"parent"},W=D({__name:"Dashboard",setup(j){const c=P(),l=p(),u=p(),s=p(-1),g=async()=>{var a,r;(a=u.value)==null||a.showModal();let o=new N({orientation:"portrait",unit:"px",format:"a4"});s.value=0;const t=l.value??[];for(const[i,n]of t.entries())console.log(n.name()),await n.renderTo(o),s.value++,i<t.length-1&&o.addPage();return(r=u.value)==null||r.close(),s.value=-1,o},x=async()=>{const o=await g();o.autoPrint(),o.output("dataurlnewwindow")},k=async()=>{(await g()).save("chordsheets.pdf")};return(o,t)=>{var a,r;return d(),m(w,null,[e("div",S,[t[1]||(t[1]=e("h1",null,"What would you like to do today?",-1)),e("div",T,[f(b,{"start-collapsed":"",features:["export","print","setlist.create","settings","song.create","library.import","library.save","learn"],onPrint:x,onExport:k,onImport:t[0]||(t[0]=i=>{var n;return(n=o.$refs.importDialog)==null?void 0:n.show()})})])]),f(V,{ref:"importDialog"},null,512),e("dialog",{ref_key:"renderDialog",ref:u},[e("div",C,[e("div",F,[e("div",M,[s.value>=0?(d(),v(y,{key:0,printing:"",song:_(c).songs[s.value]},null,8,["song"])):E("",!0)])]),t[2]||(t[2]=e("h2",null,"Rendering...",-1)),t[3]||(t[3]=e("p",null," Please wait while we render your chord sheets. This may take a while. ",-1)),e("div",Q,[e("progress",{value:s.value,max:(a=l.value)==null?void 0:a.length},null,8,$),e("p",null,[e("span",null,h(s.value),1),A(" / "+h((r=l.value)==null?void 0:r.length),1)])])])],512),e("div",L,[e("div",R,[(d(!0),m(w,null,B(_(c).songs,i=>(d(),v(y,{ref_for:!0,ref_key:"allPages",ref:l,printing:"",song:i},null,8,["song"]))),256))])])],64)}}}),X=I(W,[["__scopeId","data-v-a572e656"]]);export{X as default};
